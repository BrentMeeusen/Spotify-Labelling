###############################
# SERVER SETUP
###############################

# Disallow users to access a page without a slash
DirectorySlash off

# Disallow users to access file directories
Options -Indexes

# Allow the server to rewrite URLs
RewriteEngine On





###############################
# ROUTES
###############################

############	api/v1/login							jwt/generate/
RewriteRule		api/v1/login							jwt/generate/?login=true	[L,QSA]

############	api/v1/register							jwt/generate/?register=true
RewriteRule		api/v1/register							jwt/generate/?register=true	[L,QSA]

############	api/v1/jwt/generate						jwt/generate/
RewriteRule		api/v1/jwt/generate						jwt/generate/?testing=true	[L,QSA]



############	api/v1/users/verify/[id]/[email]		users/verify/?id=[id]&email=[email]
RewriteRule 	api/v1/users/verify/([0-9]+)/(.*)		users/verify/?id=$1&email=$2			[L,QSA]

############	api/v1/users/[action]					users/[action]/
RewriteRule		api/v1/users/([a-zA-Z\-]+)				users/$1/								[L,QSA]

############	api/v1/users/[id]/[action]				users/[action]/?id=[id]
RewriteRule 	api/v1/users/([0-9]+)/([a-zA-Z]+)		users/$2/?id=$1							[L,QSA]

############	api/v1/users/[id]						users/get/?id=[id]
RewriteRule 	api/v1/users/([0-9]+)					users/get/?id=$1						[L,QSA]

############	api/v1/users							users/get/
RewriteRule 	api/v1/users							users/get/								[L,QSA]



############	api/v1/labels/all/[id]					labels/get/?available=[id]
RewriteRule		api/v1/labels/all/([0-9]+)				labels/get/?available=$1				[L,QSA]

############	api/v1/labels/[id]/private				labels/public/?state=public
RewriteRule		api/v1/labels/([0-9]+)/private			labels/public/?id=$1&state=public		[L,QSA]

############	api/v1/labels/[id]/[action]				labels/[action]?id=[id]
RewriteRule		api/v1/labels/([0-9]+)/([a-zA-Z]+)		labels/$2/?id=$1						[L,QSA]

############	api/v1/labels/[action]					labels/[action]
RewriteRule		api/v1/labels/([a-zA-Z]+)				labels/$1/								[L,QSA]

############	api/v1/labels/[id]						labels/get/?id=[id]
RewriteRule		api/v1/labels/([0-9]+)					labels/get/?id=$1						[L,QSA]

############	api/v1/labels							labels/get/
RewriteRule		api/v1/labels							labels/get/								[L,QSA]



############	api/v1/spotify/playlists				spotify/playlists/
RewriteRule		api/v1/spotify/playlists				spotify/playlists/						[L,QSA]

############	api/v1/spotify/import/[id]				spotify/import/[id]
RewriteRule		api/v1/spotify/import/([a-zA-Z0-9]		spotify/import/$1/						[L,QSA]





###############################
# ERROR DOCUMENTS
###############################

ErrorDocument 403 /Spotify%20Labelling/AAA_API/errors/403/
ErrorDocument 404 /Spotify%20Labelling/AAA_API/errors/404/

